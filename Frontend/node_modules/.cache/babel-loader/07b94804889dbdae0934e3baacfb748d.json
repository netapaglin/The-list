{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neta\\\\Documents\\\\full stack\\\\The list\\\\Frontend\\\\src\\\\Components\\\\GiftsArea\\\\AddGift\\\\AddGift.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport giftsService from \"../../../Services/gifts-service\";\nimport \"./AddGift.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddGift() {\n  _s();\n  var _formState$errors, _formState$errors$tar, _formState$errors2, _formState$errors2$gi, _formState$errors3, _formState$errors3$de, _formState$errors4, _formState$errors4$pr, _formState$errors5, _formState$errors5$di;\n  const [targets, setTargets] = useState([]);\n  const {\n    register,\n    handleSubmit,\n    formState\n  } = useForm();\n  const navigate = useNavigate();\n  useEffect(() => {\n    giftsService.getAllTargets().then(targets => setTargets(targets)).catch(err => alert(err.message));\n  }, []);\n  async function submit(gift) {\n    try {\n      const addedGift = await giftsService.addGift(gift);\n      alert(\"Gift added, id: \" + addedGift.giftId);\n      navigate(\"/gift-list\");\n    } catch (err) {\n      alert(err.message);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"AddGift\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(submit),\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Target Audience: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        ...register(\"targetId\", {\n          required: {\n            value: true,\n            message: \"Missing target audience\"\n          }\n        }),\n        defaultValue: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          value: \"\",\n          children: \"Select Target Audience\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), targets.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t.targetId,\n          children: t.name\n        }, t.targetId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 39\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : (_formState$errors$tar = _formState$errors.targetId) === null || _formState$errors$tar === void 0 ? void 0 : _formState$errors$tar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Gift Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ...register(\"giftName\", {\n          required: {\n            value: true,\n            message: \"Missing gift name\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors2 = formState.errors) === null || _formState$errors2 === void 0 ? void 0 : (_formState$errors2$gi = _formState$errors2.giftName) === null || _formState$errors2$gi === void 0 ? void 0 : _formState$errors2$gi.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ...register(\"description\", {\n          required: {\n            value: true,\n            message: \"Missing description\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors3 = formState.errors) === null || _formState$errors3 === void 0 ? void 0 : (_formState$errors3$de = _formState$errors3.description) === null || _formState$errors3$de === void 0 ? void 0 : _formState$errors3$de.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        step: \"0.01\",\n        min: \"0\",\n        ...register(\"price\", {\n          required: {\n            value: true,\n            message: \"Missing price\"\n          },\n          min: {\n            value: 0,\n            message: \"Price can't be negative\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors4 = formState.errors) === null || _formState$errors4 === void 0 ? void 0 : (_formState$errors4$pr = _formState$errors4.price) === null || _formState$errors4$pr === void 0 ? void 0 : _formState$errors4$pr.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Discount: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        step: \"0.01\",\n        ...register(\"discount\", {\n          required: {\n            value: true,\n            message: \"Missing discount\"\n          },\n          min: {\n            value: 0,\n            message: \"Discount can't be negative\"\n          },\n          max: {\n            value: 100,\n            message: \"Discount can't exceed 100\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_formState$errors5 = formState.errors) === null || _formState$errors5 === void 0 ? void 0 : (_formState$errors5$di = _formState$errors5.discount) === null || _formState$errors5$di === void 0 ? void 0 : _formState$errors5$di.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n_s(AddGift, \"lXAF+i79yzjNYj0PXNmrMGnJ2ws=\", false, function () {\n  return [useForm, useNavigate];\n});\n_c = AddGift;\nexport default AddGift;\nvar _c;\n$RefreshReg$(_c, \"AddGift\");","map":{"version":3,"names":["useEffect","useState","useForm","useNavigate","giftsService","AddGift","targets","setTargets","register","handleSubmit","formState","navigate","getAllTargets","then","catch","err","alert","message","submit","gift","addedGift","addGift","giftId","required","value","map","t","targetId","name","errors","giftName","description","min","price","max","discount"],"sources":["C:/Users/Neta/Documents/full stack/The list/Frontend/src/Components/GiftsArea/AddGift/AddGift.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport GiftModel from \"../../../Models/GiftModel\";\nimport TargetModel from \"../../../Models/TargetModel\";\nimport giftsService from \"../../../Services/gifts-service\";\nimport \"./AddGift.css\";\n\nfunction AddGift(): JSX.Element {\n\n    const [targets, setTargets] = useState<TargetModel[]>([]);\n    const { register, handleSubmit, formState } = useForm<GiftModel>();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        giftsService\n            .getAllTargets()\n            .then(targets => setTargets(targets))\n            .catch(err => alert(err.message));\n    }, []);\n\n    async function submit(gift: GiftModel) {\n        try {\n            const addedGift = await giftsService.addGift(gift);\n            alert(\"Gift added, id: \" + addedGift.giftId);\n            navigate(\"/gift-list\");\n        }\n        catch (err: any) {\n            alert(err.message);\n        }\n    }\n\n    return (\n        <div className=\"AddGift\">\n\n            <form onSubmit={handleSubmit(submit)} noValidate>\n\n                <label>Target Audience: </label>\n                <select {...register(\"targetId\", {\n                    required: { value: true, message: \"Missing target audience\" }\n                })} defaultValue=\"\">\n                    <option disabled value=\"\">Select Target Audience</option>\n                    {targets.map(t => <option value={t.targetId} key={t.targetId}>{t.name}</option>)}\n                </select>\n                <span>{formState.errors?.targetId?.message}</span>\n\n                <label>Gift Name: </label>\n                <input type=\"text\" {...register(\"giftName\", {\n                    required: { value: true, message: \"Missing gift name\" }\n                })} />\n                <span>{formState.errors?.giftName?.message}</span>\n\n                <label>Description: </label>\n                <input type=\"text\" {...register(\"description\", {\n                    required: { value: true, message: \"Missing description\" }\n                })} />\n                <span>{formState.errors?.description?.message}</span>\n\n                <label>Price: </label>\n                <input type=\"number\" step=\"0.01\" min=\"0\" {...register(\"price\", {\n                    required: { value: true, message: \"Missing price\" },\n                    min: { value: 0, message: \"Price can't be negative\"}\n                })} />\n                <span>{formState.errors?.price?.message}</span>\n\n                <label>Discount: </label>\n                <input type=\"number\" step=\"0.01\" {...register(\"discount\", {\n                    required: { value: true, message: \"Missing discount\" },\n                    min: { value: 0, message: \"Discount can't be negative\"},\n                    max: { value: 100, message: \"Discount can't exceed 100\"},\n                })} />\n                <span>{formState.errors?.discount?.message}</span>\n\n                <button>Add</button>\n\n            </form>\n\n        </div>\n    );\n}\n\nexport default AddGift;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}